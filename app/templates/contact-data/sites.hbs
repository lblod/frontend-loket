{{page-title "Vestigingen"}}

<PageHeader class="au-o-box">
  <:title>Vestigingen</:title>
  <:subtitle>{{this.currentSession.user.fullName}}</:subtitle>
  <:action>
    <SecuredArea>

      <:readOnly>
        <ReportWrongData />
      </:readOnly>
    </SecuredArea>
  </:action>
</PageHeader>

<AuDataTable
  @content={{this.model.sites}}
  @noDataMessage="Geen vestigingen"
  as |t|
>
  <t.content as |c|>
    <c.header>
      <th class="au-c-data-table__header-title">Locatie</th>
      <th class="au-c-data-table__header-title">Type vestiging</th>
      <th class="au-c-data-table__header-title">Primair correspondentieadres
      </th>
      <SecuredArea>
        <:edit>
          <th></th>
        </:edit>
      </SecuredArea>
    </c.header>
    <c.body as |site|>
      <td>
        <AuLink @model={{site.id}}>
          {{site.address.fullAddress}}
        </AuLink>
      </td>
      <td>{{site.siteType.label}}</td>
      <td>{{if (eq site.id this.model.primarySite.id) "Ja" "Neen"}}</td>
      <SecuredArea>
        <:edit>
          <td>
            <AuLink @model={{site.id}}>
              Bewerk
            </AuLink>
          </td>
        </:edit>
      </SecuredArea>
    </c.body>
  </t.content>
</AuDataTable>